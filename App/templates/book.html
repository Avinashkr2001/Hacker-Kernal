{% extends 'base.html' %}
{% block content %}
<div class="outer">
    <div class="btn">
        <a href="add_book" class="add-btn">Add Book</a>
        <a href="export_book_records" class="export-btn">Export</a>
    </div>
    <div class="container">

        <table class="table">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Title</th>
                    <th>Genre</th>
                    <th>Published Date</th>
                    <th>Author</th>
                </tr>
            </thead>
            <tbody>

                {% for book in data %}
                <tr>
                    <td data-label="Id">{{book.id}}</td>
                    <td data-label="Title">{{book.title}}</td>
                    <td data-label="Genre">{{book.genre}}</td>
                    <td data-label="Published Date">{{book.published_date}}</td>
                    <td data-label="Author">{{book.author}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="pagination_rounded">
        <ul>
            {% if data.has_previous %}
            <li>
                <a href='?page={{data.previous_page_number}}' class="prev"><i class='bx bx-chevron-left'></i>Prev</a>
            </li>
            {% endif %}

            {% for i in page %}
            <li>
                <a href="?page={{i}}" class="ab">{{i}}</a>
            </li>
            {% endfor %}
            {% if data.has_next %}
            <li>
                <a href="?page={{data.next_page_number}}" class="next">Next<i class='bx bx-chevron-right'></i></a>
            </li>
            {% endif %}
        </ul>
    </div>
</div>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script>
    {% for message in messages %}
    swal({
        text: "{{message}}",
        icon: "{{message.tags}}"
    });
    {% endfor %}
</script>
{% endblock %}